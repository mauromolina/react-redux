{"ast":null,"code":"import _slicedToArray from\"/home/mauro/Escritorio/React/react-redux/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{useDispatch,useSelector}from'react-redux';// Actions\nimport{newProductAction}from'../actions/actionsProducts';import{showAlert,hideAlert}from'../actions/actionsAlerts';var NewProduct=function NewProduct(_ref){var history=_ref.history;// State del form\nvar _useState=useState(''),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),price=_useState4[0],setPrice=_useState4[1];// Use dispatch crea una funcion\nvar dispatch=useDispatch();// acceder al state del store\nvar loading=useSelector(function(state){return state.products.loading;});var error=useSelector(function(state){return state.products.error;});var alert=useSelector(function(state){return state.alerts.alert;});// llama el action de productos\nvar addProduct=function addProduct(product){return dispatch(newProductAction(product));};var handleSubmit=function handleSubmit(e){e.preventDefault();// validar form\nif(name.trim()===''||price<=0){var _alert={msg:'Ambos campos son obligatorios',classes:'alert alert-danger text-center text-uppercase p3'};dispatch(showAlert(_alert));return;}// si no hay error\ndispatch(hideAlert());// creo producto\naddProduct({name:name,price:price});// redireccionar al home\nhistory.push('/');};return/*#__PURE__*/React.createElement(\"div\",{className:\"row justify-content-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-8\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-body\"},/*#__PURE__*/React.createElement(\"h2\",{className:\"text-center mb-4 font-weight-bold\"},\"Agregar nuevo producto\"),alert?/*#__PURE__*/React.createElement(\"p\",{className:alert.classes},alert.msg):null,/*#__PURE__*/React.createElement(\"form\",{onSubmit:handleSubmit},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",null,\"Nombre del producto\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"Nombre producto\",name:\"name\",onChange:function onChange(e){return setName(e.target.value);},value:name})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",null,\"Precio\"),/*#__PURE__*/React.createElement(\"input\",{type:\"number\",className:\"form-control\",placeholder:\"Precio producto\",name:\"price\",onChange:function onChange(e){return setPrice(Number(e.target.value));},value:price})),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",className:\"btn btn-primary font-weight-bold text-uppercase d-block w-100\"},\"Agregar\")),loading?/*#__PURE__*/React.createElement(\"p\",null,\"Cargando...\"):null,error?/*#__PURE__*/React.createElement(\"p\",{className:\"alert alert-danger p-2 mt-4 text-center\"},\"Hubo un error! No se pudo agregar el producto\"):null))));};export default NewProduct;","map":{"version":3,"sources":["/home/mauro/Escritorio/React/react-redux/src/components/NewProduct.js"],"names":["React","useState","useDispatch","useSelector","newProductAction","showAlert","hideAlert","NewProduct","history","name","setName","price","setPrice","dispatch","loading","state","products","error","alert","alerts","addProduct","product","handleSubmit","e","preventDefault","trim","msg","classes","push","target","value","Number"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\nimport { useDispatch, useSelector } from 'react-redux'\n// Actions\nimport { newProductAction } from '../actions/actionsProducts';\nimport { showAlert, hideAlert } from '../actions/actionsAlerts';\n\nconst NewProduct = ({history}) => {\n\n    // State del form\n    const [name, setName] = useState('');\n    const [price, setPrice] = useState(0);\n\n    // Use dispatch crea una funcion\n    const dispatch = useDispatch();\n\n    // acceder al state del store\n    const loading = useSelector(state => state.products.loading);\n    const error = useSelector(state => state.products.error);\n    const alert = useSelector(state => state.alerts.alert);\n\n    // llama el action de productos\n    const addProduct = product => dispatch(newProductAction(product))\n\n    const handleSubmit = e => {\n        e.preventDefault();\n        // validar form\n        if(name.trim() === '' || price <= 0) {\n            const alert = {\n                msg: 'Ambos campos son obligatorios',\n                classes: 'alert alert-danger text-center text-uppercase p3'\n            }\n            dispatch(showAlert(alert));\n            return;\n        }\n        // si no hay error\n        dispatch(hideAlert());\n        // creo producto\n        addProduct({\n            name,\n            price\n        });\n\n        // redireccionar al home\n        history.push('/');\n    }\n\n    return ( \n        <div className=\"row justify-content-center\">\n            <div className=\"col-md-8\">\n                <div className=\"card\">\n                    <div className=\"card-body\">\n                        <h2 className=\"text-center mb-4 font-weight-bold\">\n                            Agregar nuevo producto\n                        </h2>\n                        { alert ? <p className={alert.classes}>{alert.msg}</p> : null}\n                        <form\n                            onSubmit={handleSubmit}\n                        >\n                            <div className=\"form-group\">\n                                <label>Nombre del producto</label>\n                                <input\n                                    type=\"text\"\n                                    className=\"form-control\"\n                                    placeholder=\"Nombre producto\"\n                                    name=\"name\"\n                                    onChange={e => setName(e.target.value)}\n                                    value={name}\n                                />\n                            </div>\n                            <div className=\"form-group\">\n                                <label>Precio</label>\n                                <input\n                                    type=\"number\"\n                                    className=\"form-control\"\n                                    placeholder=\"Precio producto\"\n                                    name=\"price\"\n                                    onChange={e => setPrice(Number(e.target.value))}\n                                    value={price}\n                                />\n                            </div>\n                            <button\n                                type=\"submit\"\n                                className=\"btn btn-primary font-weight-bold text-uppercase d-block w-100\"\n                            >\n                                Agregar\n                            </button>\n                        </form>\n                        { loading ? <p>Cargando...</p> : null}\n                        { error ? <p className=\"alert alert-danger p-2 mt-4 text-center\">Hubo un error! No se pudo agregar el producto</p> : null}\n                    </div>\n                </div>\n            </div>\n        </div>\n     );\n}\n \nexport default NewProduct;"]},"metadata":{},"sourceType":"module"}