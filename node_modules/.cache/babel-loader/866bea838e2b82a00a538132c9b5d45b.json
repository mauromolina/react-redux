{"ast":null,"code":"import _regeneratorRuntime from\"/home/mauro/Escritorio/React/react-redux/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/mauro/Escritorio/React/react-redux/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{ADD_PRODUCT,SUCCESSFULL_ADD_PRODUCT,FAILED_ADD_PRODUCT,START_PRODUCTS_DOWNLOAD,SUCCESSFULL_PRODUCTS_DOWNLOAD,FAILED_PRODUCTS_DOWNLOAD,GET_DELETE_PRODUCT,FAILED_DELETE_PRODUCT,SUCCESSFULL_DELETE_PRODUCT,GET_UPDATE_PRODUCT,START_UPDATE_PRODUCT,SUCCESSFULL_UPDATE_PRODUCT,FAILED_UPDATE_PRODUCT}from'../types';import axiosClient from'../config/axios';import swal from'sweetalert2';// Crear nuevos productos\nexport function newProductAction(product){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch(addProduct());_context.prev=1;_context.next=4;return axiosClient.post('/productos',product);case 4:// si todo sale bien\ndispatch(successfullAddProduct(product));swal.fire('Correcto!','El producto se agregó correctamente!','success');_context.next=13;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);console.log(_context.t0);dispatch(failedAddProduct(true));swal.fire({icon:'error',title:'Hubo un error',text:'Ocurrió un error! Intente de nuevo más tarde...'});case 13:case\"end\":return _context.stop();}}},_callee,null,[[1,8]]);}));return function(_x){return _ref.apply(this,arguments);};}();}// Agregar un producto\nvar addProduct=function addProduct(){return{type:ADD_PRODUCT,payload:true};};// Se guarda bien el producto\nvar successfullAddProduct=function successfullAddProduct(product){return{type:SUCCESSFULL_ADD_PRODUCT,payload:product};};// No se guarda bien\nvar failedAddProduct=function failedAddProduct(status){return{type:FAILED_ADD_PRODUCT,payload:status};};// Funcion para obtener los productos\nexport function getProductsAction(){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){var response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:dispatch(getProducts());_context2.prev=1;_context2.next=4;return axiosClient.get('/productos');case 4:response=_context2.sent;dispatch(successfullGetProducts(response.data));_context2.next=12;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](1);console.log(_context2.t0);dispatch(failedGetProducts());case 12:case\"end\":return _context2.stop();}}},_callee2,null,[[1,8]]);}));return function(_x2){return _ref2.apply(this,arguments);};}();}var getProducts=function getProducts(){return{type:START_PRODUCTS_DOWNLOAD,payload:true};};var successfullGetProducts=function successfullGetProducts(products){return{type:SUCCESSFULL_PRODUCTS_DOWNLOAD,payload:products};};var failedGetProducts=function failedGetProducts(){return{type:FAILED_PRODUCTS_DOWNLOAD,payload:true};};// Selecciona y elimina un producto\nexport function deleteProductAction(id){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:dispatch(getDeleteProduct(id));_context3.prev=1;_context3.next=4;return axiosClient.delete(\"/productos/\".concat(id));case 4:dispatch(successfullDeleteProduct());swal.fire('Eliminado!','El producto se eliminó correctamente','success');_context3.next=12;break;case 8:_context3.prev=8;_context3.t0=_context3[\"catch\"](1);console.log(_context3.t0);dispatch(failedDeleteProduct());case 12:case\"end\":return _context3.stop();}}},_callee3,null,[[1,8]]);}));return function(_x3){return _ref3.apply(this,arguments);};}();}var getDeleteProduct=function getDeleteProduct(id){return{type:GET_DELETE_PRODUCT,payload:id};};var successfullDeleteProduct=function successfullDeleteProduct(){return{type:SUCCESSFULL_DELETE_PRODUCT};};var failedDeleteProduct=function failedDeleteProduct(){return{type:FAILED_DELETE_PRODUCT,payload:true};};// Funcion de obtener producto a editar\nexport function updateProductAction(product){return function(dispatch){dispatch(getUpdateProduct(product));};}var getUpdateProduct=function getUpdateProduct(product){return{type:GET_UPDATE_PRODUCT,payload:product};};//  edita el producto\nexport function editProductAction(product){return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:dispatch(editProduct());_context4.prev=1;_context4.next=4;return axiosClient.put(\"productos/\".concat(product.id),product);case 4:dispatch(successfullEditProduct(product));_context4.next=11;break;case 7:_context4.prev=7;_context4.t0=_context4[\"catch\"](1);console.log(_context4.t0);dispatch(failedEditProduct());case 11:case\"end\":return _context4.stop();}}},_callee4,null,[[1,7]]);}));return function(_x4){return _ref4.apply(this,arguments);};}();}var editProduct=function editProduct(product){return{type:START_UPDATE_PRODUCT};};var successfullEditProduct=function successfullEditProduct(product){return{type:SUCCESSFULL_UPDATE_PRODUCT,payload:product};};var failedEditProduct=function failedEditProduct(){return{type:FAILED_UPDATE_PRODUCT,payload:true};};","map":{"version":3,"sources":["/home/mauro/Escritorio/React/react-redux/src/actions/actionsProducts.js"],"names":["ADD_PRODUCT","SUCCESSFULL_ADD_PRODUCT","FAILED_ADD_PRODUCT","START_PRODUCTS_DOWNLOAD","SUCCESSFULL_PRODUCTS_DOWNLOAD","FAILED_PRODUCTS_DOWNLOAD","GET_DELETE_PRODUCT","FAILED_DELETE_PRODUCT","SUCCESSFULL_DELETE_PRODUCT","GET_UPDATE_PRODUCT","START_UPDATE_PRODUCT","SUCCESSFULL_UPDATE_PRODUCT","FAILED_UPDATE_PRODUCT","axiosClient","swal","newProductAction","product","dispatch","addProduct","post","successfullAddProduct","fire","console","log","failedAddProduct","icon","title","text","type","payload","status","getProductsAction","getProducts","get","response","successfullGetProducts","data","failedGetProducts","products","deleteProductAction","id","getDeleteProduct","delete","successfullDeleteProduct","failedDeleteProduct","updateProductAction","getUpdateProduct","editProductAction","editProduct","put","successfullEditProduct","failedEditProduct"],"mappings":"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","sourcesContent":["import {\n    ADD_PRODUCT,\n    SUCCESSFULL_ADD_PRODUCT,\n    FAILED_ADD_PRODUCT,\n    START_PRODUCTS_DOWNLOAD,\n    SUCCESSFULL_PRODUCTS_DOWNLOAD,\n    FAILED_PRODUCTS_DOWNLOAD,\n    GET_DELETE_PRODUCT,\n    FAILED_DELETE_PRODUCT,\n    SUCCESSFULL_DELETE_PRODUCT,\n    GET_UPDATE_PRODUCT,\n    START_UPDATE_PRODUCT,\n    SUCCESSFULL_UPDATE_PRODUCT,\n    FAILED_UPDATE_PRODUCT\n} from '../types';\n\nimport axiosClient from '../config/axios';\nimport swal from 'sweetalert2';\n\n// Crear nuevos productos\nexport function newProductAction(product) {\n    return async (dispatch) => {\n        dispatch(addProduct());\n        try {\n            // insertar en la api\n            await axiosClient.post('/productos', product);\n            // si todo sale bien\n            dispatch(successfullAddProduct(product));\n            swal.fire(\n                'Correcto!',\n                'El producto se agregó correctamente!',\n                'success'\n            )\n        } catch (error) {\n            console.log(error);\n            dispatch(failedAddProduct(true));\n            swal.fire({\n                icon: 'error',\n                title: 'Hubo un error',\n                text: 'Ocurrió un error! Intente de nuevo más tarde...'\n            })\n        }\n    }\n}\n\n\n// Agregar un producto\nconst addProduct = () => ({\n    type: ADD_PRODUCT,\n    payload: true\n})\n\n// Se guarda bien el producto\nconst successfullAddProduct = product => ({\n    type:SUCCESSFULL_ADD_PRODUCT,\n    payload: product\n})\n\n// No se guarda bien\nconst failedAddProduct = status => ({\n    type: FAILED_ADD_PRODUCT,\n    payload: status\n})\n\n// Funcion para obtener los productos\nexport function getProductsAction() {\n    return async (dispatch) => {\n        dispatch(getProducts());\n        try {\n            const response = await axiosClient.get('/productos');\n            dispatch(successfullGetProducts(response.data));\n        } catch (error) {\n            console.log(error);\n            dispatch(failedGetProducts());\n        }\n    }\n}\n\nconst getProducts = () => ({\n    type: START_PRODUCTS_DOWNLOAD,\n    payload: true\n})\n\nconst successfullGetProducts = products => ({\n    type: SUCCESSFULL_PRODUCTS_DOWNLOAD,\n    payload: products\n\n})\n\nconst failedGetProducts = () => ({\n    type: FAILED_PRODUCTS_DOWNLOAD,\n    payload: true\n})\n\n// Selecciona y elimina un producto\nexport function deleteProductAction(id) {\n    return async (dispatch) => {\n        dispatch(getDeleteProduct(id));\n        try {\n            await axiosClient.delete(`/productos/${id}`);\n            dispatch(successfullDeleteProduct());\n            swal.fire(\n                'Eliminado!',\n                'El producto se eliminó correctamente',\n                'success'\n            )\n        } catch (error) {\n            console.log(error);\n            dispatch(failedDeleteProduct());\n        }\n\n    }\n}\n\nconst getDeleteProduct = id => ({\n    type:GET_DELETE_PRODUCT,\n    payload: id\n})\n\nconst successfullDeleteProduct = () => ({\n    type: SUCCESSFULL_DELETE_PRODUCT\n})\n\nconst failedDeleteProduct = () => ({\n    type: FAILED_DELETE_PRODUCT,\n    payload: true\n})\n\n// Funcion de obtener producto a editar\nexport function updateProductAction(product){\n    return (dispatch) => {\n        dispatch (getUpdateProduct(product));\n    }\n }\n\n const getUpdateProduct = product => ({\n     type: GET_UPDATE_PRODUCT,\n     payload: product\n })\n\n//  edita el producto\nexport function editProductAction(product){\n    return async (dispatch) => {\n        dispatch(editProduct())\n        try {\n            await axiosClient.put(`productos/${product.id}`, product);\n            dispatch(successfullEditProduct(product));\n        } catch (error) {\n            console.log(error);\n            dispatch(failedEditProduct());\n        }\n    }\n}\n\nconst editProduct = product => ({\n    type: START_UPDATE_PRODUCT\n})\n\nconst successfullEditProduct = product => ({\n    type: SUCCESSFULL_UPDATE_PRODUCT,\n    payload: product\n})\n\nconst failedEditProduct = () => ({\n    type: FAILED_UPDATE_PRODUCT,\n    payload: true\n})"]},"metadata":{},"sourceType":"module"}